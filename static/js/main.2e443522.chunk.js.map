{"version":3,"sources":["AppNavbar.tsx","AxiosInstance.ts","BandDisplay.tsx","BandInfo.tsx","Search.tsx","Home.tsx","App.tsx","index.tsx"],"names":["AppNavbar","input","useRef","history","useHistory","Navbar","Brand","Toggle","aria-controls","Collapse","id","Nav","className","to","Form","onSubmit","e","push","encodeURI","current","value","preventDefault","Row","Col","FormControl","ref","placeholder","Button","type","variant","axiosInstance","axios","create","baseURL","headers","Authorization","formatDescription","description","length","substr","BandDisplay","band","onInfo","Card","style","width","maxHeight","Img","src","url_for_image_thumb","alt","name","height","objectFit","Body","Title","biographies","find","val","language_code","toLowerCase","Footer","onClick","BandInfo","onClose","Modal","show","Header","url_for_image_original","Search","useState","bands","setBands","setBand","isLoading","setIsLoading","location","useLocation","useEffect","query","URLSearchParams","search","get","source","cancel","CancelToken","cancelToken","token","then","r","data","response","finally","Container","Spinner","animation","undefined","xs","md","lg","xl","aria-live","map","Home","ModalTitle","ModalBody","App","Switch","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2e443522.chunk.js","sourcesContent":["import React, {useRef} from 'react';\r\nimport {Button, Col, FormControl, Nav, Navbar, Row, Form} from 'react-bootstrap';\r\nimport {Link, useHistory} from 'react-router-dom';\r\n\r\nconst AppNavbar = () => {\r\n    const input = useRef<HTMLInputElement>(null);\r\n    const history = useHistory();\r\n\r\n    return (\r\n        <Navbar>\r\n            <Navbar.Brand>MX-3</Navbar.Brand>\r\n            <Navbar.Toggle aria-controls='basic-navbar-nav'/>\r\n            <Navbar.Collapse id='basic-navbar-nav'>\r\n                <Nav className='me-auto'>\r\n                    <Link className={'nav-link'} to={'/'}>\r\n                        Home\r\n                    </Link>\r\n                    <Link to={'/popular-bands'} className={'nav-link'}>\r\n                        Popular Bands\r\n                    </Link>\r\n                </Nav>\r\n                <Nav>\r\n                    <Form onSubmit={(e) => {\r\n                        history.push(\r\n                            `/search?query=${encodeURI(\r\n                                input?.current?.value!\r\n                            )}`\r\n                        )\r\n                        e.preventDefault();\r\n                    }}>\r\n\r\n                        <Row>\r\n                            <Col>\r\n                                <FormControl\r\n                                    ref={input}\r\n                                    placeholder={'Nach Band suchen'}\r\n                                />\r\n                            </Col>\r\n                            <Col>\r\n                                <Button\r\n                                    type={'submit'} variant={'primary'}>\r\n                                    Band suchen\r\n                                </Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </Nav>\r\n            </Navbar.Collapse>\r\n        </Navbar>\r\n    );\r\n};\r\n\r\nexport default AppNavbar;\r\n","import axios from 'axios';\r\n\r\nconst axiosInstance = axios.create({\r\n    baseURL: 'https://api.srgssr.ch/mx3/v2',\r\n    headers: {\r\n        Authorization: 'Bearer QiDbr0V3zR14IMxTA0zsElWGPIvQ',\r\n    },\r\n});\r\n\r\nexport default axiosInstance;","import React from 'react';\nimport { Band } from './api/Band';\nimport { Button, Card } from 'react-bootstrap';\nimport { useHistory } from 'react-router-dom';\n\nconst BandDisplay = ({ band, onInfo }: { band: Band, onInfo: () => void }) => {\n    const history = useHistory();\n    return (\n        <Card style={{ width: '20rem', maxHeight: '50rem' }}>\n            <Card.Img\n                src={band.url_for_image_thumb}\n                alt={`Bild von ${band.name}`}\n                variant={'top'}\n                style={{ height: '10rem', objectFit: 'contain' }}\n            />\n            <Card.Body>\n                <Card.Title>{band.name}</Card.Title>\n                <Card.Body>\n                    {formatDescription(\n                        band.biographies.find(\n                            val => val.language_code.toLowerCase() === 'de'\n                        )?.description || band.biographies[0]?.description\n                    ) || <i>Keine Beschreibung</i>}\n                </Card.Body>\n            </Card.Body>\n            <Card.Footer>\n                <Button onClick={onInfo}>\n                    Mehr Infos anzeigen\n                </Button>\n            </Card.Footer>\n        </Card>\n    );\n};\n\nconst formatDescription = (description?: string): string | undefined =>\n    description\n        ? description.length > 25\n            ? description.substr(0, 23) + '...'\n            : description\n        : description;\n\nexport default BandDisplay;\n","import React from 'react';\r\nimport {Button, Modal} from \"react-bootstrap\";\r\nimport {Band} from \"./api/Band\";\r\n\r\nconst BandInfo = ({band, onClose}: { band?: Band , onClose: () => void}) => {\r\n    return <Modal show={!!band}>\r\n        <Modal.Header>\r\n            <img src={band?.url_for_image_original} height={200} alt={`Bild von der Band ${band?.name}`}/>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            {\r\n                band?.biographies.find(\r\n                    val => val.language_code.toLowerCase() === 'de'\r\n                )?.description || band?.biographies[0]?.description\r\n                || <i>Keine Beschreibung</i>\r\n            }\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n            <Button variant={'danger'} onClick={onClose}>Schliessen</Button>\r\n        </Modal.Footer>\r\n    </Modal>;\r\n};\r\n\r\nexport default BandInfo;","import React, {useEffect, useState} from 'react';\r\nimport axios from './AxiosInstance';\r\nimport {Band} from './api/Band';\r\nimport {Col, Container, Row, Spinner} from 'react-bootstrap';\r\nimport BandDisplay from './BandDisplay';\r\nimport {useLocation} from 'react-router-dom';\r\nimport cancel from 'axios';\r\nimport BandInfo from \"./BandInfo\";\r\n\r\nconst Search = () => {\r\n    const [bands, setBands] = useState<Array<Band>>([]);\r\n    const [band, setBand] = useState<Band>();\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const location = useLocation();\r\n    useEffect(() => {\r\n        const query = new URLSearchParams(location.search).get('query');\r\n        const source = cancel.CancelToken.source();\r\n        axios\r\n            .get<{\r\n                response: {\r\n                    bands: Array<Band>;\r\n                };\r\n            }>(`/bands?query=${query}`, {\r\n                cancelToken: source.token,\r\n            })\r\n            .then(r => setBands(r.data.response.bands))\r\n            .finally(() => setIsLoading(false));\r\n\r\n        return () => source.cancel('Operation canceled');\r\n    }, [location]);\r\n\r\n    return !isLoading ? (\r\n        <Container>\r\n            <BandInfo band={band} onClose={() => setBand(undefined)}/>\r\n            <Row xs={1} md={2} lg={3} xl={5} className={'g-3'} aria-live={'polite'}>\r\n                {\r\n                    bands.map((val) =>\r\n                        <Col className={'mr-5'}>\r\n                            <BandDisplay band={val} onInfo={() => setBand(val)}/>\r\n                        </Col>\r\n                    )\r\n                }\r\n            </Row>\r\n        </Container>\r\n    ) : (\r\n        <Container\r\n            className={'d-flex align-items-center justify-content-center'}>\r\n            <Spinner animation={'border'}/>\r\n        </Container>\r\n    );\r\n};\r\n\r\nfunction arrayToChunks<T>(size: number, arr: Array<T>): Array<Array<T>> {\r\n    const newArr: Array<Array<T>> = [[]];\r\n    arr.forEach(val => {\r\n        if (newArr[newArr.length - 1].length < size)\r\n            newArr[newArr.length - 1].push(val);\r\n        else newArr.push([val]);\r\n    });\r\n    console.log(newArr);\r\n    return newArr;\r\n}\r\n\r\nexport default Search;\r\n","import React from 'react';\r\nimport {Container, ModalBody, ModalTitle} from \"react-bootstrap\";\r\n\r\nconst Home = () => {\r\n    return (\r\n        <Container>\r\n            <ModalTitle>Home</ModalTitle>\r\n            <ModalBody>\r\n                Willkommen auf der Seite von MX-3. Auf dieser Seite können Sie die nicht so bekannten Künstler der Schweiz entdecken.\r\n                <br/>\r\n                Wir wünschen Ihnen einen schönen Aufenthalt.\r\n            </ModalBody>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Home;","import React from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport Switch from 'react-bootstrap/Switch';\nimport AppNavbar from './AppNavbar';\nimport Search from './Search';\nimport Home from \"./Home\";\n\nfunction App() {\n    return (\n        <HashRouter>\n            <AppNavbar />\n            <Switch>\n                <Route exact path={'/'} component={Home}/>\n                <Route path={'/search'} component={Search} />\n            </Switch>\n        </HashRouter>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}