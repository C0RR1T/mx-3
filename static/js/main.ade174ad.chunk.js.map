{"version":3,"sources":["AppNavbar.tsx","AxiosInstance.ts","BandDisplay.tsx","Search.tsx","App.tsx","index.tsx"],"names":["AppNavbar","input","useRef","history","useHistory","Navbar","Brand","Toggle","aria-controls","Collapse","id","Nav","className","to","Form","onSubmit","e","push","encodeURI","current","value","preventDefault","Row","Col","FormControl","ref","placeholder","Button","type","variant","axiosInstance","axios","create","baseURL","headers","Authorization","env","API_TOKEN","formatDescription","description","length","substr","BandDisplay","band","Card","style","width","maxHeight","Img","src","url_for_image_thumb","alt","name","height","objectFit","Body","Title","biographies","find","val","language_code","toLowerCase","Footer","onClick","Search","useState","bands","setBands","isLoading","setIsLoading","location","useLocation","useEffect","query","URLSearchParams","search","get","source","cancel","CancelToken","cancelToken","token","then","r","data","response","finally","Container","Spinner","animation","xs","md","lg","xl","aria-live","map","App","Switch","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qOAoDeA,EAhDG,WACd,IAAMC,EAAQC,iBAAyB,MACjCC,EAAUC,cAEhB,OACI,eAACC,EAAA,EAAD,WACI,cAACA,EAAA,EAAOC,MAAR,mBACA,cAACD,EAAA,EAAOE,OAAR,CAAeC,gBAAc,qBAC7B,eAACH,EAAA,EAAOI,SAAR,CAAiBC,GAAG,mBAApB,UACI,eAACC,EAAA,EAAD,CAAKC,UAAU,UAAf,UACI,cAAC,IAAD,CAAMA,UAAW,WAAYC,GAAI,IAAjC,kBAGA,cAAC,IAAD,CAAMA,GAAI,iBAAkBD,UAAW,WAAvC,8BAIJ,cAACD,EAAA,EAAD,UACI,cAACG,EAAA,EAAD,CAAMC,SAAU,SAACC,GAAO,IAAD,EACnBb,EAAQc,KAAR,wBACqBC,UAAS,OACtBjB,QADsB,IACtBA,GADsB,UACtBA,EAAOkB,eADe,aACtB,EAAgBC,SAGxBJ,EAAEK,kBANN,SASI,eAACC,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,UACI,cAACC,EAAA,EAAD,CACIC,IAAKxB,EACLyB,YAAa,uBAGrB,cAACH,EAAA,EAAD,UACI,cAACI,EAAA,EAAD,CACIC,KAAM,SAAUC,QAAS,UAD7B,yC,iCC7BjBC,EAPOC,IAAMC,OAAO,CAC/BC,QAAS,+BACTC,QAAS,CACLC,cAAeC,IAAIC,a,wBC4BrBC,EAAoB,SAACC,GAAD,OACtBA,GACMA,EAAYC,OAAS,GACjBD,EAAYE,OAAO,EAAG,IAAM,MAEhCF,GAEKG,EApCK,SAAC,GAA8B,IAAD,IAA3BC,EAA2B,EAA3BA,KACbxC,EAAUC,cAChB,OACI,eAACwC,EAAA,EAAD,CAAMC,MAAO,CAAEC,MAAO,QAASC,UAAW,SAA1C,UACI,cAACH,EAAA,EAAKI,IAAN,CACIC,IAAKN,EAAKO,oBACVC,IAAG,mBAAcR,EAAKS,MACtBvB,QAAS,MACTgB,MAAO,CAAEQ,OAAQ,QAASC,UAAW,aAEzC,eAACV,EAAA,EAAKW,KAAN,WACI,cAACX,EAAA,EAAKY,MAAN,UAAab,EAAKS,OAClB,cAACR,EAAA,EAAKW,KAAN,UACKjB,GACG,UAAAK,EAAKc,YAAYC,MACb,SAAAC,GAAG,MAAwC,OAApCA,EAAIC,cAAcC,wBAD7B,eAEGtB,eAFH,UAEkBI,EAAKc,YAAY,UAFnC,aAEkB,EAAqBlB,eACtC,wDAGb,cAACK,EAAA,EAAKkB,OAAN,UACI,cAACnC,EAAA,EAAD,CAAQoC,QAAS,kBAAM5D,EAAQc,KAAR,iBAAuB0B,EAAKjC,MAAnD,uCCkCDsD,MApDA,WAAO,IAAD,EACSC,mBAAsB,IAD/B,mBACVC,EADU,KACHC,EADG,OAEiBF,oBAAS,GAF1B,mBAEVG,EAFU,KAECC,EAFD,KAGXC,EAAWC,cAkBjB,OAjBAC,qBAAU,WACN,IAAMC,EAAQ,IAAIC,gBAAgBJ,EAASK,QAAQC,IAAI,SACjDC,EAASC,IAAOC,YAAYF,SAYlC,OAXA9C,EACK6C,IADL,uBAKuBH,GAAS,CACxBO,YAAaH,EAAOI,QAEvBC,MAAK,SAAAC,GAAC,OAAIhB,EAASgB,EAAEC,KAAKC,SAASnB,UACnCoB,SAAQ,kBAAMjB,GAAa,MAEzB,kBAAMQ,EAAOC,OAAO,yBAC5B,CAACR,IAEIF,EAaJ,cAACmB,EAAA,EAAD,CACI3E,UAAW,mDADf,SAEI,cAAC4E,EAAA,EAAD,CAASC,UAAW,aAdxB,cAACF,EAAA,EAAD,UACI,cAACjE,EAAA,EAAD,CAAKoE,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGjF,UAAW,MAAOkF,YAAW,SAA9D,SAEQ5B,EAAM6B,KAAI,SAACpC,GAAD,OACN,cAACpC,EAAA,EAAD,UACI,cAAC,EAAD,CAAaoB,KAAMgB,cChBhCqC,MAbf,WACI,OACI,eAAC,IAAD,WACI,cAAC,EAAD,IACA,eAACC,EAAA,EAAD,WACI,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAM,MACnB,cAAC,IAAD,CAAOA,KAAM,iBACb,cAAC,IAAD,CAAOA,KAAM,UAAWC,UAAWpC,W,MCRnDqC,IAASC,OACL,cAAC,IAAMC,WAAP,UACI,cAAC,EAAD,MAEJC,SAASC,eAAe,W","file":"static/js/main.ade174ad.chunk.js","sourcesContent":["import React, {useRef} from 'react';\nimport {Button, Col, FormControl, Nav, Navbar, Row, Form} from 'react-bootstrap';\nimport {Link, useHistory} from 'react-router-dom';\n\nconst AppNavbar = () => {\n    const input = useRef<HTMLInputElement>(null);\n    const history = useHistory();\n\n    return (\n        <Navbar>\n            <Navbar.Brand>MX-3</Navbar.Brand>\n            <Navbar.Toggle aria-controls='basic-navbar-nav'/>\n            <Navbar.Collapse id='basic-navbar-nav'>\n                <Nav className='me-auto'>\n                    <Link className={'nav-link'} to={'/'}>\n                        Home\n                    </Link>\n                    <Link to={'/popular-bands'} className={'nav-link'}>\n                        Popular Bands\n                    </Link>\n                </Nav>\n                <Nav>\n                    <Form onSubmit={(e) => {\n                        history.push(\n                            `/search?query=${encodeURI(\n                                input?.current?.value!\n                            )}`\n                        )\n                        e.preventDefault();\n                    }}>\n\n                        <Row>\n                            <Col>\n                                <FormControl\n                                    ref={input}\n                                    placeholder={'Nach Band suchen'}\n                                />\n                            </Col>\n                            <Col>\n                                <Button\n                                    type={'submit'} variant={'primary'}>\n                                    Band suchen\n                                </Button>\n                            </Col>\n                        </Row>\n                    </Form>\n                </Nav>\n            </Navbar.Collapse>\n        </Navbar>\n    );\n};\n\nexport default AppNavbar;\n","import axios from 'axios';\nimport env from 'react-dotenv';\n\nconst axiosInstance = axios.create({\n    baseURL: 'https://api.srgssr.ch/mx3/v2',\n    headers: {\n        Authorization: env.API_TOKEN,\n    },\n});\n\nexport default axiosInstance;","import React from 'react';\nimport { Band } from './api/Band';\nimport { Button, Card } from 'react-bootstrap';\nimport { useHistory } from 'react-router-dom';\n\nconst BandDisplay = ({ band }: { band: Band }) => {\n    const history = useHistory();\n    return (\n        <Card style={{ width: '20rem', maxHeight: '50rem' }}>\n            <Card.Img\n                src={band.url_for_image_thumb}\n                alt={`Bild von ${band.name}`}\n                variant={'top'}\n                style={{ height: '10rem', objectFit: 'contain' }}\n            />\n            <Card.Body>\n                <Card.Title>{band.name}</Card.Title>\n                <Card.Body>\n                    {formatDescription(\n                        band.biographies.find(\n                            val => val.language_code.toLowerCase() === 'de'\n                        )?.description || band.biographies[0]?.description\n                    ) || <i>Keine Beschreibung</i>}\n                </Card.Body>\n            </Card.Body>\n            <Card.Footer>\n                <Button onClick={() => history.push(`/bands/${band.id}`)}>\n                    Mehr Infos anzeigen\n                </Button>\n            </Card.Footer>\n        </Card>\n    );\n};\n\nconst formatDescription = (description?: string): string | undefined =>\n    description\n        ? description.length > 25\n            ? description.substr(0, 23) + '...'\n            : description\n        : description;\n\nexport default BandDisplay;\n","import React, {useEffect, useState} from 'react';\nimport axios from './AxiosInstance';\nimport {Band} from './api/Band';\nimport {Col, Container, Row, Spinner} from 'react-bootstrap';\nimport BandDisplay from './BandDisplay';\nimport {useLocation} from 'react-router-dom';\nimport cancel from 'axios';\n\nconst Search = () => {\n    const [bands, setBands] = useState<Array<Band>>([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const location = useLocation();\n    useEffect(() => {\n        const query = new URLSearchParams(location.search).get('query');\n        const source = cancel.CancelToken.source();\n        axios\n            .get<{\n                response: {\n                    bands: Array<Band>;\n                };\n            }>(`/bands?query=${query}`, {\n                cancelToken: source.token,\n            })\n            .then(r => setBands(r.data.response.bands))\n            .finally(() => setIsLoading(false));\n\n        return () => source.cancel('Operation canceled');\n    }, [location]);\n\n    return !isLoading ? (\n        <Container>\n            <Row xs={1} md={2} lg={3} xl={5} className={'g-3'} aria-live={'polite'}>\n                {\n                    bands.map((val) =>\n                        <Col>\n                            <BandDisplay band={val}/>\n                        </Col>\n                    )\n                }\n            </Row>\n        </Container>\n    ) : (\n        <Container\n            className={'d-flex align-items-center justify-content-center'}>\n            <Spinner animation={'border'}/>\n        </Container>\n    );\n};\n\nfunction arrayToChunks<T>(size: number, arr: Array<T>): Array<Array<T>> {\n    const newArr: Array<Array<T>> = [[]];\n    arr.forEach(val => {\n        if (newArr[newArr.length - 1].length < size)\n            newArr[newArr.length - 1].push(val);\n        else newArr.push([val]);\n    });\n    console.log(newArr);\n    return newArr;\n}\n\nexport default Search;\n","import React from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport Switch from 'react-bootstrap/Switch';\nimport AppNavbar from './AppNavbar';\nimport Search from './Search';\n\nfunction App() {\n    return (\n        <HashRouter>\n            <AppNavbar />\n            <Switch>\n                <Route exact path={'/'} />\n                <Route path={'/bands/:band'} />\n                <Route path={'/search'} component={Search} />\n            </Switch>\n        </HashRouter>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}