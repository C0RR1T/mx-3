(this["webpackJsonpmx-3"]=this["webpackJsonpmx-3"]||[]).push([[0],{83:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(19),s=t.n(r),i=t(17),j=t(6),o=t(24),l=t(89),b=t(90),d=t(91),u=t(85),h=t(50),O=t(49),x=t(86),m=t(5),p=function(){var e=Object(a.useRef)(null),n=Object(j.e)();return Object(m.jsxs)(l.a,{children:[Object(m.jsx)(l.a.Brand,{children:"MX-3"}),Object(m.jsx)(l.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(m.jsxs)(l.a.Collapse,{id:"basic-navbar-nav",children:[Object(m.jsxs)(b.a,{className:"me-auto",children:[Object(m.jsx)(i.b,{className:"nav-link",to:"/",children:"Home"}),Object(m.jsx)(i.b,{to:"/popular-bands",className:"nav-link",children:"Popular Bands"})]}),Object(m.jsx)(b.a,{children:Object(m.jsx)(d.a,{onSubmit:function(t){var a;n.push("/search?query=".concat(encodeURI(null===e||void 0===e||null===(a=e.current)||void 0===a?void 0:a.value))),t.preventDefault()},children:Object(m.jsxs)(u.a,{children:[Object(m.jsx)(h.a,{children:Object(m.jsx)(O.a,{ref:e,placeholder:"Nach Band suchen"})}),Object(m.jsx)(h.a,{children:Object(m.jsx)(x.a,{type:"submit",variant:"primary",children:"Band suchen"})})]})})})]})]})},v=t(34),f=t(25),g=t.n(f),y=t(51),B=g.a.create({baseURL:"https://api.srgssr.ch/mx3/v2",headers:{Authorization:y.a.API_TOKEN}}),k=t(87),N=t(88),w=t(92),I=function(e){return e&&e.length>25?e.substr(0,23)+"...":e},S=function(e){var n,t,a=e.band,c=Object(j.e)();return Object(m.jsxs)(w.a,{style:{width:"20rem",maxHeight:"50rem"},children:[Object(m.jsx)(w.a.Img,{src:a.url_for_image_thumb,alt:"Bild von ".concat(a.name),variant:"top",style:{height:"10rem",objectFit:"contain"}}),Object(m.jsxs)(w.a.Body,{children:[Object(m.jsx)(w.a.Title,{children:a.name}),Object(m.jsx)(w.a.Body,{children:I((null===(n=a.biographies.find((function(e){return"de"===e.language_code.toLowerCase()})))||void 0===n?void 0:n.description)||(null===(t=a.biographies[0])||void 0===t?void 0:t.description))||Object(m.jsx)("i",{children:"Keine Beschreibung"})})]}),Object(m.jsx)(w.a.Footer,{children:Object(m.jsx)(x.a,{onClick:function(){return c.push("/bands/".concat(a.id))},children:"Mehr Infos anzeigen"})})]})};var T=function(){var e=Object(a.useState)([]),n=Object(v.a)(e,2),t=n[0],c=n[1],r=Object(a.useState)(!0),s=Object(v.a)(r,2),i=s[0],o=s[1],l=Object(j.f)();return Object(a.useEffect)((function(){var e=new URLSearchParams(l.search).get("query"),n=g.a.CancelToken.source();return B.get("/bands?query=".concat(e),{cancelToken:n.token}).then((function(e){return c(e.data.response.bands)})).finally((function(){return o(!1)})),function(){return n.cancel("Operation canceled")}}),[l]),i?Object(m.jsx)(k.a,{className:"d-flex align-items-center justify-content-center",children:Object(m.jsx)(N.a,{animation:"border"})}):Object(m.jsx)(k.a,{children:Object(m.jsx)(u.a,{xs:1,md:2,lg:3,xl:5,className:"g-3","aria-live":"polite",children:t.map((function(e){return Object(m.jsx)(h.a,{children:Object(m.jsx)(S,{band:e})})}))})})};var _=function(){return Object(m.jsxs)(i.a,{children:[Object(m.jsx)(p,{}),Object(m.jsxs)(o.a,{children:[Object(m.jsx)(j.a,{exact:!0,path:"/"}),Object(m.jsx)(j.a,{path:"/bands/:band"}),Object(m.jsx)(j.a,{path:"/search",component:T})]})]})};t(82);s.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(_,{})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.ade174ad.chunk.js.map